{"version":3,"sources":["./src/app/maintenance/maintenance.component.html","./src/app/maintenance/maintenance.component.scss","./src/app/maintenance/maintenance.component.ts","./src/app/maintenance/maintenance.module.ts","./src/app/maintenance/maintenance.routing.ts"],"names":[],"mappings":"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","file":"maintenance.module.chunk.js","sourcesContent":["module.exports = \"<title>Maintenance</title>\\n<div class=\\\"main-content\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <div class=\\\"card\\\">\\n                    <div class=\\\"card-content\\\">\\n                    \\t<div class=\\\"row\\\">\\n                    \\t\\t<div class=\\\"col-md-6\\\">\\n                        \\t\\t<h3 class=\\\"card-title\\\">Maintenance</h3>\\n                       \\t\\t</div>\\n\\n                       \\t\\t<div class=\\\"col-md-6\\\" *ngIf=\\\"isAddAccess == true\\\">\\n                        \\t\\t<a class=\\\"btn btn-facebook btn-round btn-success pull-right\\\" href=\\\"/index.html#/create-maintenance\\\">Create Maintenance</a>\\n\\n                        \\t</div>\\n                        </div>\\n                        <div class=\\\"row\\\"></div>\\n                        <div class=\\\"toolbar\\\">\\n                        </div>\\n                        <div class=\\\"material-datatables table-responsive\\\">\\n                            <table id=\\\"mTanceDatatables\\\" class=\\\"table table-striped table-no-bordered table-hover\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" style=\\\"width:100%\\\">\\n                                <thead>\\n                                    <tr>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[0] }}</th>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[1] }}</th>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[2] }}</th>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[3] }}</th>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[4] }}</th>\\n                                        <th>{{ mTanceDataTable.mTanceHeaderRow[5] }}</th>\\n                                        <th class=\\\"disabled-sorting text-right\\\">{{ mTanceDataTable.mTanceHeaderRow[6] }}</th>\\n                                    </tr>\\n                                </thead>\\n                                <tbody>\\n                                    <tr *ngFor=\\\"let mTance of mTanceDataTable.mTanceDataRows\\\">\\n                                        <td>{{ mTance.ID }}</td>\\n                                        <td>{{ mTance.WorkOrderNo }}</td>\\n                                        <td>{{ mTance.MTypeTitle }}</td>\\n                                        <td>{{ mTance.Username }}</td>\\n                                        <td>\\n                                            <div *ngIf=\\\"mTance.MaintenanceDate\\\">{{ mTance.MaintenanceDate | date: 'dd/MM/yyyy'}} </div>\\n                                            <div *ngIf=\\\"!mTance.MaintenanceDate\\\">{{ mTance.MaintenanceDate }} </div>\\n                                        </td>\\n                                        <td>{{ mTance.Status }}</td>\\n                                        <td class=\\\"text-right\\\">\\n                                            <button *ngIf=\\\"isEditAccess == true\\\" class=\\\"btn btn-simple btn-warning btn-icon edit\\\" (click)=\\\"goToCreateMaintenance(mTance.ID)\\\">\\n                                                <i class=\\\"material-icons\\\">dvr</i>\\n                                            </button>\\n                                        </td>\\n                                    </tr>\\n                                </tbody>\\n                            </table>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/maintenance/maintenance.component.html\n// module id = ./src/app/maintenance/maintenance.component.html\n// module chunks = maintenance.module","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/maintenance/maintenance.component.scss\n// module id = ./src/app/maintenance/maintenance.component.scss\n// module chunks = maintenance.module","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { Http, Response, RequestOptions, Headers } from \"@angular/http\";\nimport { Observable } from \"rxjs/Observable\";\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, ActivatedRoute, Params } from '@angular/router';\nimport \"rxjs/Rx\";\nimport { CommonService } from \"../services/commonService\";\nimport { MaintenanceService } from \"../services/maintenanceService\";\nimport swal from 'sweetalert2';\n\ndeclare interface DataTable {\n    mTanceHeaderRow: string[];\n    mTanceFooterRow: string[];\n    mTanceDataRows: any;\n}\ndeclare const $: any;\n\n@Component({\n    selector: 'app-maintenance',\n    templateUrl: './maintenance.component.html',\n    styleUrls: ['./maintenance.component.scss'],\n    providers: [CommonService, MaintenanceService]\n})\nexport class MaintenanceComponent implements OnInit {\n    public mTanceDataTable: DataTable;\n    public maintenanceList: any;\n    public isViewAccess: boolean;\n    public isAddAccess: boolean;\n    public isEditAccess: boolean;\n    public isSyncAccess: boolean;\n\n    constructor(\n        private http: Http,\n        private router: Router,\n        private commonService: CommonService,\n        private maintenanceService: MaintenanceService,\n        private activatedRoute: ActivatedRoute\n    ) { }\n\n    ngOnInit() {\n        if (JSON.parse(sessionStorage.getItem('LogEmployee')) != null) {\n            let userRoleAccess = JSON.parse(sessionStorage.getItem('AccessRole'));\n            if (userRoleAccess != null) {\n                var jobAccess = userRoleAccess.filter(job => job.ModuleName == \"MAINTENANCE\");\n                if (jobAccess != null) {\n                    this.isViewAccess = (jobAccess[0].AddAccess == true || jobAccess[0].EditAccess == true ? true : jobAccess[0].ViewAccess);\n                    this.isAddAccess = jobAccess[0].AddAccess;\n                    this.isEditAccess = jobAccess[0].EditAccess;\n                    this.isSyncAccess = jobAccess[0].SyncAccess;\n                }\n            }\n\n            this.getMaintenanceDetails();\n            this.mTanceDataTable = {\n                mTanceHeaderRow: ['MT#', 'Job-Wo', 'Type', 'Raised By', 'Date', 'Status', 'Actions'],\n                mTanceFooterRow: ['MT#', 'Job-Wo', 'Type', 'Raised By', 'Date', 'Status', 'Actions'],\n                mTanceDataRows: this.maintenanceList\n            };\n        } else {\n            this.router.navigate(['pages/login']);\n        }\n    }\n\n    getMaintenanceDetails() {\n        $('.loader').show();\n        this.maintenanceService.GetMaintenanceDetails(this.commonService.baseApiUrl).subscribe(\n            data => {\n                var dataMtance = JSON.stringify(data);\n                var mtanceParse = JSON.parse(dataMtance);\n                var mTanceList = JSON.parse(mtanceParse[\"_body\"]);\n                this.maintenanceList = null;\n                if (mTanceList != null) {\n                    $(\"#mTanceDatatables\").dataTable().fnDestroy();\n                    this.maintenanceList = mTanceList;\n\n                    this.mTanceDataTable = {\n                        mTanceHeaderRow: ['MT#', 'Job-Wo', 'Type', 'Raised By', 'Date', 'Status', 'Actions'],//'ID'\n                        mTanceFooterRow: ['MT#', 'Job-Wo', 'Type', 'Raised By', 'Date', 'Status', 'Actions'],\n                        mTanceDataRows: this.maintenanceList\n                    };\n\n                    setTimeout(() => {\n                        $(\"#mTanceDatatables\").dataTable().fnDestroy();\n                        $('#mTanceDatatables').DataTable({\n                            'pagingType': 'full_numbers',\n                            'lengthMenu': [[10, 25, 50, -1], [10, 25, 50, 'All']],\n                            responsive: true,\n                            language: {\n                                search: '_INPUT_',\n                                searchPlaceholder: 'Search records',\n                            }\n\n                        });\n\n                        const tableWO = $('#mTanceDatatables').DataTable();\n\n                        // Edit record\n                        tableWO.on('click', '.edit', function () {\n\n                        });\n\n                        // Delete a record\n                        tableWO.on('click', '.remove', function (e: any) {\n                            const $trWO = $(this).closest('tr');\n                            tableWO.row($trWO).remove().draw();\n                            e.preventDefault();\n                        });\n\n                        // Like record\n                        tableWO.on('click', '.like', function () {\n                            alert('You clicked on Like button');\n                        });\n\n                    }, 10);\n\n                    $('.loader').hide();\n                }\n            }\n        );\n    }\n    goToCreateMaintenance(mtId: any) {\n        this.router.navigate(['create-maintenance'], { queryParams: { mtid: mtId } });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/maintenance/maintenance.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaintenanceRoutes } from './maintenance.routing';\nimport { MaintenanceComponent } from './maintenance.component';\nimport { MaterialModule } from '../app.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule.forChild(MaintenanceRoutes),\n        FormsModule,\n        ReactiveFormsModule,\n        MaterialModule\n    ],\n    declarations: [\n        MaintenanceComponent\n    ]\n})\n\nexport class MaintenanceModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/maintenance/maintenance.module.ts","import { Routes } from '@angular/router';\nimport { MaintenanceComponent } from './maintenance.component';\n\nexport const MaintenanceRoutes: Routes = [\n    {\n        path: '',\n        children: [{\n            path: '',\n            component: MaintenanceComponent\n        }]\n    }\n];\n\n\n// WEBPACK FOOTER //\n// ./src/app/maintenance/maintenance.routing.ts"],"sourceRoot":"webpack:///"}
{"version":3,"sources":["./src/app/jobs/jobs.component.html","./src/app/jobs/jobs.component.scss","./src/app/jobs/jobs.component.ts","./src/app/jobs/jobs.module.ts","./src/app/jobs/jobs.routing.ts"],"names":[],"mappings":";;;;;AAAA,yCAAyC,eAAe,UAAU,SAAS,aAAa,WAAW,sWAAsW,2zBAA2zB,gCAAgC,yDAAyD,gCAAgC,yDAAyD,gCAAgC,yDAAyD,gCAAgC,yDAAyD,gCAAgC,yDAAyD,gCAAgC,+FAA+F,gCAAgC,oSAAoS,gBAAgB,4DAA4D,iBAAiB,0IAA0I,uCAAuC,2FAA2F,mBAAmB,8GAA8G,mBAAmB,yDAAyD,kBAAkB,yDAAyD,gBAAgB,yDAAyD,cAAc,ynDAAynD,kBAAkB,qOAAqO,gDAAgD,8jBAA8jB,2bAA2b,oGAAoG,SAAS,2CAA2C,SAAS,6B;;;;;;;ACAt5L,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAyE;AAED;AAE2B;AAClF;AACyC;AACJ;AACU;AACjB;AAkB/C;IAcI,uBACY,IAAU,EACV,MAAc,EACd,aAA4B,EAC5B,UAAuB,EACvB,gBAAkC,EAClC,KAAkB;QALlB,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAe;QAC5B,eAAU,GAAV,UAAU,CAAa;QACvB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,UAAK,GAAL,KAAK,CAAa;IAE9B,CAAC;IAED,gCAAQ,GAAR;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YAC5D,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;YACtE,EAAE,CAAC,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,IAAI,SAAS,GAAG,cAAc,CAAC,MAAM,CAAC,aAAG,IAAI,UAAG,CAAC,UAAU,IAAI,gBAAgB,EAAlC,CAAkC,CAAC,CAAC;gBACjF,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,YAAY,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;oBACzH,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;oBAC1C,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBAC5C,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAChD,CAAC;YACL,CAAC;YAED,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;gBACd,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvB,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC;YAGH,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YACxC,CAAC;YAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAChC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,YAAY,GAAG;gBAChB,YAAY,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;gBACnF,YAAY,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;gBACnF,WAAW,EAAE,IAAI,CAAC,OAAO;aAC5B,CAAC;QACN,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC;IAED,+CAAuB,GAAvB;QAAA,iBAIC;QAHG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,OAAO,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,cAAM,YAAI,CAAC,sBAAsB,EAAE,EAA7B,CAA6B,CAAC,CAAC;QACxF,CAAC;IACL,CAAC;IACD,8CAAsB,GAAtB;QAAA,iBAkBC;QAjBG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC,SAAS,CACtF,cAAI;YACA,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC/C,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YACxD,qCAAqC;YACrC,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;gBACpB,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC;gBACzB,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvB,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;gBACtB,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtD,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAED,8CAAsB,GAAtB;QAAA,iBAeC;QAdG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC,SAAS,CACtF,cAAI;YACA,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC/C,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YACxD,qCAAqC;YACrC,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACjD,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;gBACpB,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC;gBAC1B,KAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAED,qCAAa,GAAb;QAAA,iBAmEC;QAlEG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CACvF,cAAI;YACA,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACpC,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;YAC7C,qCAAqC;YACrC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACtB,KAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC;gBACjG,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,KAAI,CAAC,eAAe,GAAG,SAAS,CAAC;gBACrC,CAAC;gBACD,CAAC,CAAC,gBAAgB,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,CAAC;gBAC5C,4DAA4D;gBAC5D,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;gBACxB,IAAI,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,aAAG,IAAI,UAAG,CAAC,KAAK,IAAI,IAAI,EAAjB,CAAiB,CAAC,CAAC;gBACxD,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;gBAG9B,KAAI,CAAC,YAAY,GAAG;oBAChB,YAAY,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;oBACnF,YAAY,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;oBACnF,WAAW,EAAE,KAAI,CAAC,OAAO;iBAC5B,CAAC;gBAEF,UAAU,CAAC;oBACP,CAAC,CAAC,gBAAgB,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,CAAC;oBAC5C,CAAC,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC;wBAC1B,YAAY,EAAE,cAAc;wBAC5B,YAAY,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;wBACrD,UAAU,EAAE,IAAI;wBAChB,QAAQ,EAAE;4BACN,MAAM,EAAE,SAAS;4BACjB,iBAAiB,EAAE,gBAAgB;yBACtC;qBAEJ,CAAC,CAAC;oBAEH,IAAM,QAAQ,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,SAAS,EAAE,CAAC;oBAEjD,cAAc;oBACd,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE;oBAE9B,CAAC,CAAC,CAAC;oBAEH,kBAAkB;oBAClB,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,CAAM;wBAC5C,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBACrC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC;wBACrC,CAAC,CAAC,cAAc,EAAE,CAAC;oBACvB,CAAC,CAAC,CAAC;oBAEH,cAAc;oBACd,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE;wBAC1B,KAAK,CAAC,4BAA4B,CAAC,CAAC;oBACxC,CAAC,CAAC,CAAC;gBAEP,CAAC,EAAE,EAAE,CAAC,CAAC;gBAEP,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;YACxB,CAAC;QACL,CAAC,CACJ,CAAC;IACN,CAAC;IAED,qCAAa,GAAb,UAAc,KAAU;QACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5E,CAAC;IAED,kCAAU,GAAV;QACI,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,gCAAQ,GAAR;QACI,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IA1K2B;QAA3B,gEAAS,CAAC,eAAe,CAAC;kCAAgB,yDAAU;wDAAC;IAZ7C,aAAa;QAPzB,gEAAS,CAAC;YACP,QAAQ,EAAE,UAAU;;;YAGpB,SAAS,EAAE,CAAC,8EAAa,EAAE,0EAAW,EAAE,oFAAgB,EAAE,6DAAW,CAAC;SACzE,CAAC;yCAiBoB,mDAAI;YACF,+DAAM;YACC,8EAAa;YAChB,0EAAW;YACL,oFAAgB;YAC3B,6DAAW;OApBrB,aAAa,CAuLzB;IAAD,oBAAC;CAAA;AAvLyB;;;;;;;;;;;;;;;;;;;;;;;;AC3Be;AACM;AACA;AACmB;AACtB;AACK;AACF;AAe/C;IAAA;IAA0B,CAAC;IAAd,UAAU;QAbtB,+DAAQ,CAAC;YACN,OAAO,EAAE;gBACL,6DAAY;gBACZ,qEAAY,CAAC,QAAQ,CAAC,iEAAU,CAAC;gBACjC,2DAAW;gBACX,mEAAmB;gBACnB,mEAAc;aACjB;YACD,YAAY,EAAE;gBACV,sEAAa;aAChB;SACJ,CAAC;OAEW,UAAU,CAAI;IAAD,iBAAC;CAAA;AAAJ;;;;;;;;;;;ACpB0B;AAE1C,IAAM,UAAU,GAAW;IAC9B;QACI,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE,CAAC;gBACP,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,sEAAa;aAC3B,CAAC;KACL;CACJ,CAAC","file":"jobs.module.chunk.js","sourcesContent":["module.exports = \"<style>\\n    .user-alt{position:fixed; bottom:0; right:0; width:450px;z-index:9;}\\n</style>\\n<!--<title>Aspect Jobs</title>-->\\n<title>Jobs</title>\\n<div class=\\\"main-content\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <div class=\\\"card\\\">\\n                    <div class=\\\"card-content\\\">\\n                        <ng-container *ngIf=\\\"isSyncAccess == true; else jobText\\\">\\n                            <button class=\\\"btn btn-facebook btn-round\\\" #jobSyncButton (click)=\\\"addNewSchedulerInQueue()\\\">Sync Jobs</button>\\n                            </ng-container>\\n                        <ng-template #jobText>\\n                            <h3>Jobs</h3>\\n                        </ng-template>\\n                            <div class=\\\"toolbar\\\">\\n                            </div>\\n                            <div class=\\\"material-datatables table-responsive\\\">\\n                                <table id=\\\"jobDatatables\\\" class=\\\"table table-striped table-no-bordered table-hover\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" style=\\\"width:100%\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>{{ jobDataTable.jobHeaderRow[0] }}</th>\\n                                            <th>{{ jobDataTable.jobHeaderRow[1] }}</th>\\n                                            <th>{{ jobDataTable.jobHeaderRow[2] }}</th>\\n                                            <th>{{ jobDataTable.jobHeaderRow[3] }}</th>\\n                                            <th>{{ jobDataTable.jobHeaderRow[4] }}</th>\\n                                            <th>{{ jobDataTable.jobHeaderRow[5] }}</th>\\n                                            <th class=\\\"disabled-sorting text-right\\\">{{ jobDataTable.jobHeaderRow[6] }}</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let job of jobDataTable.jobDataRows\\\">\\n                                            <!--<td>{{ job.OldJobId }}</td>-->\\n                                            <td>{{ job.JobNumber }}</td>\\n                                            <td>\\n                                                <div *ngIf=\\\"job.CreatedDate\\\">{{ job.CreatedDate | date: 'dd/MM/yyyy'}} </div>\\n                                                <div *ngIf=\\\"!job.CreatedDate\\\">{{ job.CreatedDate }} </div>\\n                                            </td>\\n                                            <td>{{ job.Description }}</td>\\n                                            <td>{{ job.ClientName }}</td>\\n                                            <td>{{ job.WONumber }}</td>\\n                                            <td>{{ job.Status }}</td>\\n                                            <td class=\\\"text-right\\\">\\n                                                <span *ngIf=\\\"job.IsNew == true\\\">\\n                                                    <button class=\\\"btn btn-success btn-icon edit btn-xs\\\">\\n                                                        New\\n                                                    </button>\\n                                                </span>\\n                                                <!--<span *ngIf=\\\"job.IsNew == false\\\">\\n                                                    <button class=\\\"btn btn-success btn-icon edit btn-xs\\\">\\n                                                        Updated\\n                                                    </button>\\n                                                </span>-->\\n                                                <button class=\\\"btn btn-simple btn-warning btn-icon edit\\\" *ngIf=\\\"isViewAccess == true\\\" (click)=\\\"goToWorkOrder(job.OldJobId)\\\">\\n                                                    <i class=\\\"material-icons\\\">dvr</i>\\n                                                </button>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                                <div class=\\\"col-lg-12 mtb30\\\">\\n                                    <div *ngIf=\\\"joblastSyncDate\\\">\\n                                        <div *ngIf=\\\"joblastSyncDate == 'No Sync'\\\">\\n                                            <label class=\\\"pull-right\\\">last Sync: {{joblastSyncDate }}</label>\\n                                        </div>\\n                                        <div *ngIf=\\\"joblastSyncDate != 'No Sync'\\\">\\n                                            <label class=\\\"pull-right\\\">last Sync: {{joblastSyncDate | date: 'dd/MM/yyyy HH:mm:ss' }}</label>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n</div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"alert alert-info alert-with-icon user-alt\\\" data-notify=\\\"container\\\" id=\\\"syncStart\\\">\\r\\n    <i class=\\\"material-icons\\\" data-notify=\\\"icon\\\">notifications</i>\\r\\n    <button type=\\\"button\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\">\\r\\n        <i class=\\\"material-icons\\\" (click)=\\\"closeStart();\\\">close</i>\\r\\n    </button>\\r\\n    <span data-notify=\\\"message\\\">Job Sync Currently In Progress - Please Wait.</span>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"alert alert-success alert-with-icon user-alt\\\" data-notify=\\\"container\\\" id=\\\"syncCopm\\\">\\r\\n    <i class=\\\"material-icons\\\" data-notify=\\\"icon\\\">notifications</i>\\r\\n    <button type=\\\"button\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\">\\r\\n        <i class=\\\"material-icons\\\" (click)=\\\"closeEnd();\\\">close</i>\\r\\n    </button>\\r\\n    <span data-notify=\\\"message\\\">Job sync completed. Job added: {{noOfJob}} </span><!--Job sync Completed There Are {{noOfJob}} new Job Added.-->\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/jobs/jobs.component.html\n// module id = ./src/app/jobs/jobs.component.html\n// module chunks = jobs.module","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/jobs/jobs.component.scss\n// module id = ./src/app/jobs/jobs.component.scss\n// module chunks = jobs.module","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { Http, Response, RequestOptions, Headers } from \"@angular/http\";\nimport { Observable } from \"rxjs/Observable\";\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport \"rxjs/Rx\";\nimport { CommonService } from \"../services/commonService\";\nimport { JobsService } from \"../services/jobsService\";\nimport { SchedulerService } from \"../services/schedulerService\";\nimport { SimpleTimer } from 'ng2-simple-timer';\n\nimport swal from 'sweetalert2';\ndeclare interface DataTable {\n    jobHeaderRow: string[];\n    jobFooterRow: string[];\n    jobDataRows: any;\n}\n\ndeclare const $: any;\n\n@Component({\n    selector: 'app-jobs',\n    templateUrl: './jobs.component.html',\n    styleUrls: ['./jobs.component.scss'],\n    providers: [CommonService, JobsService, SchedulerService, SimpleTimer]\n})\n\nexport class JobsComponent implements OnInit {\n    public jobDataTable: DataTable;\n    public jobList: any;\n    public joblastSyncDate: any;\n    public timerStart: string;\n    public userProfile: any;\n    public isViewAccess: boolean;\n    public isAddAccess: boolean;\n    public isEditAccess: boolean;\n    public isSyncAccess: boolean;\n    public noOfJob: any;\n\n    @ViewChild('jobSyncButton') jobSyncButton: ElementRef;\n\n    constructor(\n        private http: Http,\n        private router: Router,\n        private commonService: CommonService,\n        private jobService: JobsService,\n        private schedulerService: SchedulerService,\n        private timer: SimpleTimer\n    ) {\n    }\n\n    ngOnInit() {\n        if (JSON.parse(sessionStorage.getItem('LogEmployee')) != null) {\n            let userRoleAccess = JSON.parse(sessionStorage.getItem('AccessRole'));\n            if (userRoleAccess != null) {\n                var jobAccess = userRoleAccess.filter(job => job.ModuleName == \"JOBINFORMATION\");\n                if (jobAccess != null) {\n                    this.isViewAccess = (jobAccess[0].AddAccess == true || jobAccess[0].EditAccess == true ? true : jobAccess[0].ViewAccess);\n                    this.isAddAccess = jobAccess[0].AddAccess;\n                    this.isEditAccess = jobAccess[0].EditAccess;\n                    this.isSyncAccess = jobAccess[0].SyncAccess;\n                }\n            }\n\n            $(document).ready(function () {\n                $('#syncStart').hide();\n                $('#syncCopm').hide();\n            });\n\n\n            if (this.isViewAccess == false) {\n                this.router.navigate(['dashboard']);\n            }\n\n            this.timer.newTimer('1sec', 30);\n            this.userProfile = JSON.parse(sessionStorage.getItem('LogEmployee'));\n            this.getJobDetails();\n            this.jobDataTable = {\n                jobHeaderRow: ['Job#', 'Date', 'Description', 'Client', 'WOs', 'Status', 'Actions'],//'ID'\n                jobFooterRow: ['Job#', 'Date', 'Description', 'Client', 'WOs', 'Status', 'Actions'],\n                jobDataRows: this.jobList\n            };\n        }\n        else {\n            this.router.navigate(['pages/login']);\n        }\n    }\n\n    isJobsAndWorkOrdersDone() {\n        if (this.timerStart == \"start\") {\n            this.timerStart = this.timer.subscribe('1sec', () => this.GetSchedulerDoneStatus());\n        }\n    }\n    GetSchedulerDoneStatus() {\n        $('.loader').show();\n        $('#syncStart').show();\n        this.schedulerService.GetSchedulerDoneStatus(this.commonService.baseApiUrl, \"2\").subscribe(\n            data => {\n                var dataScheduler = JSON.stringify(data);\n                var schedulerParse = JSON.parse(dataScheduler);\n                var schedulerList = JSON.parse(schedulerParse[\"_body\"]);\n                //localStorage.removeItem(\"JobList\");\n                if (schedulerList == true) {\n                    $('.loader').hide();\n                    this.getJobDetails();\n                    this.timerStart = \"stop\";\n                    $('#syncStart').hide();\n                    $('#syncCopm').show();\n                    this.jobSyncButton.nativeElement.disabled = false;\n                }\n            });\n    }\n\n    addNewSchedulerInQueue() {\n        $('.loader').show();\n        this.schedulerService.AddNewSchedulerInQueue(this.commonService.baseApiUrl, \"2\").subscribe(\n            data => {\n                var dataScheduler = JSON.stringify(data);\n                var schedulerParse = JSON.parse(dataScheduler);\n                var schedulerList = JSON.parse(schedulerParse[\"_body\"]);\n                //localStorage.removeItem(\"JobList\");\n                if (schedulerList == true) {\n                    this.jobSyncButton.nativeElement.disabled = true;\n                    $('.loader').hide();\n                    this.timerStart = \"start\";\n                    this.isJobsAndWorkOrdersDone();\n                }\n            });\n    }\n\n    getJobDetails() {\n        $('.loader').show();\n        this.jobService.GetJobDetails(this.commonService.baseApiUrl, this.userProfile.ID).subscribe(\n            data => {\n                var dataJobs = JSON.stringify(data);\n                var jobParse = JSON.parse(dataJobs);\n                var jobLists = JSON.parse(jobParse[\"_body\"]);\n                //localStorage.removeItem(\"JobList\");\n                this.jobList = null;\n                if (jobLists != null) {\n                    if (jobLists.length > 0) {\n                        this.joblastSyncDate = jobLists[0].JobSyncDate != null ? jobLists[0].JobSyncDate : \"No Sync\";\n                    }\n                    else {\n                        this.joblastSyncDate = \"No Sync\";\n                    }\n                    $(\"#jobDatatables\").dataTable().fnDestroy();\n                    //localStorage.setItem(\"JobList\", JSON.stringify(jobLists));\n                    this.jobList = jobLists;\n                    let newJobs = jobLists.filter(usr => usr.IsNew == true);\n                    this.noOfJob = newJobs.length;\n\n\n                    this.jobDataTable = {\n                        jobHeaderRow: ['Job#', 'Date', 'Description', 'Client', 'WOs', 'Status', 'Actions'],//'ID'\n                        jobFooterRow: ['Job#', 'Date', 'Description', 'Client', 'WOs', 'Status', 'Actions'],\n                        jobDataRows: this.jobList\n                    };\n\n                    setTimeout(() => {\n                        $(\"#jobDatatables\").dataTable().fnDestroy();\n                        $('#jobDatatables').DataTable({\n                            'pagingType': 'full_numbers',\n                            'lengthMenu': [[10, 25, 50, -1], [10, 25, 50, 'All']],\n                            responsive: true,\n                            language: {\n                                search: '_INPUT_',\n                                searchPlaceholder: 'Search records',\n                            }\n\n                        });\n\n                        const tableJob = $('#jobDatatables').DataTable();\n\n                        // Edit record\n                        tableJob.on('click', '.edit', function () {\n\n                        });\n\n                        // Delete a record\n                        tableJob.on('click', '.remove', function (e: any) {\n                            const $trJob = $(this).closest('tr');\n                            tableJob.row($trJob).remove().draw();\n                            e.preventDefault();\n                        });\n\n                        // Like record\n                        tableJob.on('click', '.like', function () {\n                            alert('You clicked on Like button');\n                        });\n\n                    }, 10);\n\n                    $('.loader').hide();\n                }\n            }\n        );\n    }\n\n    goToWorkOrder(jobId: any) {\n        this.router.navigate(['work-order'], { queryParams: { jobID: jobId } });\n    }\n\n    closeStart() {\n        $('#syncStart').hide();\n    }\n\n    closeEnd() {\n        $('#syncCopm').hide();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/jobs/jobs.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { JobsRoutes } from './jobs.routing';\nimport { JobsComponent } from './jobs.component';\nimport { MaterialModule } from '../app.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule.forChild(JobsRoutes),\n        FormsModule,\n        ReactiveFormsModule,\n        MaterialModule\n    ],\n    declarations: [\n        JobsComponent\n    ]\n})\n\nexport class JobsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/jobs/jobs.module.ts","import { Routes } from '@angular/router';\nimport { JobsComponent } from './jobs.component';\n\nexport const JobsRoutes: Routes = [\n    {\n        path: '',\n        children: [{\n            path: '',\n            component: JobsComponent\n        }]\n    }\n];\n\n\n// WEBPACK FOOTER //\n// ./src/app/jobs/jobs.routing.ts"],"sourceRoot":"webpack:///"}